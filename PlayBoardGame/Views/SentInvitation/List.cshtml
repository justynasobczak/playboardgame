@model FriendInvitationViewModel.SentInvitationsViewModel
@{
    ViewBag.Title = "Invitations";
}

@await Component.InvokeAsync("InvitationTabs", new
{
    tabName = InvitationTabName.Sent
})

<table class="table table-hover">

    @if (!Model.InvitedUsersList.Any())
    {
        <tr>
            <td colspan="5" class="text-center">No invited users</td>
        </tr>
    }
    else
    {
        <tr>
            <th>Gravatar</th>
            <th>User</th>
            <th>Email</th>
            <th>Post date</th>
            <th>Status</th>
        </tr>
        foreach (var item in Model.InvitedUsersList)
        {
            <tr>
                <td class="tdAvatar">
                    <div>
                        <img gravatar-email="@item.InvitedEmail" alt="Avatar"/>
                    </div>
                </td>
                <td>@item.DisplayedUserName</td>
                <td>@item.InvitedEmail</td>
                <td>@item.PostDate</td>
                @switch (item.Status)
                {
                    case FriendInvitationStatus.Accepted:
                        <td class="acceptedStatus">@item.Status.ToString()</td>
                        break;
                    case FriendInvitationStatus.Deleted:
                        <td class="notAcceptedStatus">@item.Status.ToString()</td>
                        break;
                    case FriendInvitationStatus.Pending:
                        <td class="pendingStatus">@item.Status.ToString()</td>
                        break;
                    case FriendInvitationStatus.Rejected:
                        <td class="notAcceptedStatus">@item.Status.ToString()</td>
                        break;
                    default:
                        <td class="text-primary">@item.Status.ToString()</td>
                        break;
                }
            </tr>
        }
    }
</table>

<div>
    <form asp-action="Sent" method="post" novalidate>
        <div class="form-row">
            <div class="col-md-4">
                <label asp-for="InvitedEmail"></label>
                <span asp-validation-for="InvitedEmail" class="text-danger"></span>
                <input asp-for="InvitedEmail" class="form-control" placeholder="Type email address"/>
            </div>
        </div>
        <div class="form-row">
            <div class="col-md-2 mt-3">
                <button type="submit" class="btn btn-info">Send</button>
            </div>
        </div>
    </form>
</div>